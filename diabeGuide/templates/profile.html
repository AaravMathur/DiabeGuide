{% extends "base.html" %}
{% block content %}
<div class="profile-container tab-content active">
    <h2>User Profile</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul class="flashes">
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
    <form method="POST" action="{{ url_for('profile.profile') }}">
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" value="{{ user.username }}" readonly>
        </div>
        <div class="form-group">
            <label for="weight">Weight (kg):</label>
            <input type="number" id="weight" name="weight" value="{{ user.weight or '' }}" step="0.1">
        </div>
        <div class="form-group">
            <label for="height">Height (cm):</label>
            <input type="number" id="height" name="height" value="{{ user.height or '' }}" step="0.1">
        </div>
        <div class="form-group">
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" value="{{ user.age or '' }}">
        </div>
        <div class="form-group">
            <label for="diabetes_type">Diabetes Type:</label>
            <select id="diabetes_type" name="diabetes_type">
                <option value="" {% if not user.diabetes_type %}selected{% endif %}>Select Type</option>
                <option value="Type 1" {% if user.diabetes_type == 'Type 1' %}selected{% endif %}>Type 1</option>
                <option value="Type 2" {% if user.diabetes_type == 'Type 2' %}selected{% endif %}>Type 2</option>
                <option value="Gestational" {% if user.diabetes_type == 'Gestational' %}selected{% endif %}>Gestational</option>
                <option value="Other" {% if user.diabetes_type == 'Other' %}selected{% endif %}>Other</option>
            </select>
        </div>
        <button type="submit">Update Profile</button>
    </form>
</div>
{% endblock %}